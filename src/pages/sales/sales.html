<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title style="text-Align:center">Sales</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-grid class="full-height">
    <ion-row class="full-height">
      <ion-col col-2>
        <ion-list no-lines>
          <button ion-item *ngFor="let category of categories" class="text-wrap" [ngClass]="{'activeCategory': category._id == activeCategory._id }"
            (click)="itemSelected(category)">
              {{ category.name }}
          </button>
        </ion-list>
      </ion-col>
      <ion-col col-6>
        <tile-items [items]="activeTiles" (onSelect)="onSelect($event)">
        </tile-items>
      </ion-col>
      <ion-col col-4>
        <!-- Bucket [start]  -->
        <ion-grid style="background-color: #FFFFFF">
          <ion-row>
            <ion-col col-md-12 class="pull-right">

              <button ion-button clear (click)="parkSale()" [disabled]="invoice.items.length == 0">
                <ion-icon name="timer"></ion-icon>&nbsp;&nbsp;Park Sale
              </button>
              <button ion-button clear (click)="discardSale()" [disabled]="invoice.items.length == 0">
                <ion-icon name="trash"></ion-icon>&nbsp;&nbsp;Discard Sale
              </button>

            </ion-col>
          </ion-row>
        </ion-grid>
        <ion-content *ngIf="!register.status">
          <ion-grid>
            <ion-row>
              <ion-col col-md-12>
                <form #openRegister="ngForm" (ngSubmit)="openRegister()">
                  <h2 text-center>Register Closed</h2>
                  <h5>Set an opening float to open the register and make sale</h5>

                  <ion-label stacked>Opening Float</ion-label>
                  <ion-input type="text" placeholder="$0.00" [(ngModel)]="register.openingAmount" required></ion-input>

                  <ion-label color="primary" stacked>Notes <small>optional</small></ion-label>
                  <ion-textarea placeholder="Enter Note">
                  </ion-textarea>

                  <button ion-button color="primary" block type="submit">
                    Open Register
                  </button>
                </form>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-content>
        <basket *ngIf="register.status" [_invoice]="invoice" (paymentClicked)="paymentClicked($event)"></basket>
        <!-- Bucket [end] -->
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>