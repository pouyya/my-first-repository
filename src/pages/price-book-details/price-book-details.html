<ion-header>
  <ion-navbar>
    <ion-title>{{action}} Price Book</ion-title>
    <ion-buttons end>
      <button type="submit" ion-button icon-only (click)="priceBookForm.ngSubmit.emit()" [disabled]="!priceBookForm.form.valid">
        Save
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <form (ngSubmit)="onSubmit()" #priceBookForm="ngForm">
    <ion-grid>
      <ion-row>
        <ion-col col-md-4>
          <ion-item>
            <ion-input type="text" placeholder="Name" [(ngModel)]="priceBook.name" required name="priceBookName"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-md-4>
          <ion-item>
            <ion-label>Start Date</ion-label>
            <ion-datetime displayFormat="MM-DD-YYYY h:mm A" pickerFormat="MM-DD-YYYY h mm A" [(ngModel)]="priceBook.validFrom" required name="priceBookValidFrom"></ion-datetime>
          </ion-item>
        </ion-col>
        <ion-col col-md-4>
          <ion-item>
            <ion-label>End Date</ion-label>
            <ion-datetime displayFormat="MM-DD-YYYY h:mm A" pickerFormat="MM-DD-YYYY h mm A" [(ngModel)]="priceBook.validTo" required name="priceBookValidTo"></ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-md-4>
          <ion-list>
            <ion-item>
              <ion-label>List of Stores</ion-label>
              <ion-checkbox color="black" [checked]="!criteria.store.disabled" (click)="criteria.store.disabled = !criteria.store.disabled" name="storeCriteriaDisabled"></ion-checkbox>
            </ion-item>
          </ion-list>
          <ion-list class="scrollable-component">
            <ion-item *ngFor="let store of stores">
              <ion-label>{{store.name}}</ion-label>
              <ion-checkbox color="primary" [ngModel]="store.selected" (ngModelChange)="store.selected = !store.selected" [checked]="store.selected" [disabled]="criteria.store.disabled" name="storeSelected"></ion-checkbox>
            </ion-item>
          </ion-list>
        </ion-col>
        <ion-col col-md-4>
          <ion-list>
            <ion-item>
              <ion-label>Customer Types</ion-label>
              <ion-checkbox color="black" (click)="criteria.customerTypes.disabled = !criteria.customerTypes.disabled" name="customerTypes"></ion-checkbox>
            </ion-item>
          </ion-list>
          <ion-list class="scrollable-component">
            <ion-item *ngFor="let type of customerTypes | keys">
              <ion-label>{{type.value}}</ion-label>
              <ion-checkbox color="primary" [(ngModel)]="type.key" [disabled]="!criteria.customerTypes.disabled" name="typeKey"></ion-checkbox>
            </ion-item>
          </ion-list>
        </ion-col>
        <ion-col col-md-4>
          <ion-list>
            <ion-item>
              <ion-label>Staff</ion-label>
              <ion-checkbox color="black"></ion-checkbox>
            </ion-item>
          </ion-list>
          <ion-list class="scrollable-component">
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
  <purchasable-item-price [(priceBook)]="priceBook"></purchasable-item-price>
</ion-content>